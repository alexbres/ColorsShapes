<html>
<script>

const Direction = {
    Up: 0,
    Down: 1,
    Left: 2,
	Right: 3,
}

var direction = Direction.Right;	
	
document.addEventListener('DOMContentLoaded', function() {
 run();
});

document.addEventListener("keydown", keyDownHandler, false);



function keyDownHandler(e) {

    if(e.keyCode == 39) {
        direction = Direction.Right;
    }
    else if(e.keyCode == 37) {
        direction = Direction.Left;
    }
	else if(e.keyCode == 40) {
        direction = Direction.Down;
    }
	else if(e.keyCode == 38) {
        direction = Direction.Up;
    }
}

//Shape base calss
function Shape(context, color, x, y) {
	this.context = context;
	this.color = color;
	this.x = x;
	this.y = y;
}

Shape.prototype.move = function(x, y) {
	this.x = x;
	this.y = y;
	this.draw();
}

Shape.prototype.draw = function() {
}

Shape.prototype.toString = function() {
	return 'object Shape';
}

Shape.prototype.super = Shape;

//Reactangle 
function Reactangle(context, color, x, y, width, height) {		
	this.super(context, color, x, y);
	
	this.height = height;
	this.width = width;
}

Reactangle.prototype = new Shape();
Reactangle.prototype.constructor = Reactangle;

Reactangle.prototype.draw = function() {
	this.context.fillStyle = this.color;
	this.context.fillRect(this.x, this.y, this.height, this.width);
}

// Circle
function Circle(context, color, x, y, radius) {
	this.super(context, color, x, y);
	this.radius = radius;
}

Circle.prototype = new Shape();
Circle.prototype.constructor = Circle;

Circle.prototype.draw = function() {
	this.context.fillStyle = this.color;
	this.context.beginPath();
	this.context.arc(this.x, this.y, this.radius, 0, Math.PI*2);
	this.context.fill();
	this.context.closePath();
}



function run() {
	var canvas = document.getElementById("canvas");
	var ctx = canvas.getContext("2d");
	setInterval(draw, 10);
	
	var p = new Reactangle(ctx, 'blue', 10, 10, 30, 30) ;
	p.draw();
}



</script>
<body>
<div style="border: 1px black solid">test</div>
<canvas id="canvas" width="300" height="225" style="border: 1px black solid"></canvas>
</body>
</html>